<h2>Réservation de séance</h2>

<form [formGroup]="myForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
    {{myForm.get('startDateTime').value | date:'dd/MM/y HH:mm:ss'}}
  </div>  
  <div class="radio" *ngFor="let level of levels; let i = index">
    <label>  
        <input type="radio"               
               id="level.value"
               formControlName="level"
               [value]="level.value">
               {{level.label}}
            </label>
  </div>
  <div formArrayName="subscribers" class="form-group">
    <label for="subscribers">Inscrits</label>
    <div class="form-group row" *ngFor="let item of myForm.get('subscribers').controls; let i = index" [formGroup]="item">
      <div class="col-sm-3">
        <label [attr.for]="'user'+i">Prénom</label>
        <input type="text" class="form-control" [attr.id]="'user'+i" formControlName="firstname">
      </div>
      <div class="col-sm-3">
        <label [attr.for]="'user'+i">Nom</label>
        <input type="text" class="form-control" [attr.id]="'user'+i" formControlName="lastname">
      </div>

      <div class="col-sm-4">
        <label [attr.for]="'mail'+i">E-Mail</label>
        <input type="text" class="form-control" [attr.id]="'mail'+i" formControlName="email">
      </div>

      <div *ngIf="i>0" class="col-sm-1">
            <button type="button" class="btn btn-primary"
                    (click)="removeAt(i)">-</button>
      </div>

    </div>
  </div>
  <button class="btn btn-default" type="button" (click)="addPlayer()">Ajouter des joueurs</button>
  <button class="btn btn-primary" type="submit" [disabled]="!myForm.valid">Submit</button>


</form>

