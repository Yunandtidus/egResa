<my-datepicker [date]="currentDate" [onChange]="onChange()"></my-datepicker>
<br />
<button (click)="modeDay();refreshPlanning();">Jour</button>
<button (click)="modeWeek();refreshPlanning();">Semaine</button>
<button (click)="modeMonth();refreshPlanning();">Mois</button>
<table *ngIf="mode != modeMonth" style="width:100%">
    <tr>
        <th style="max-width:80px">Horaire</th>
        <th *ngFor="let d of days">{{d | date: 'dd/MM/yyyy'}}</th>
    </tr>
    <tr *ngFor="let hour of hours;let i=index" [ngClass]="hour ? 'full-hour' : 'not-full-hour'">
        <td class="planning-cell" style="max-width:80px">
            <span *ngIf="showHour(hour)">{{hour}}h</span>
        </td>

        <td *ngFor="let d of days;let j=index">
            <div class="add-session-button" (click)="addSession(d, hour)">Ajouter session</div>
            <div *ngIf="planning[j][i]" style="position:relative;top:-5px;left:0px;right:0px;">
                <div class="game-session {{ planning[j][i].is_free ? 'free' : ''}}" style="bottom:-56px">
                    <div *ngIf="planning[j][i].is_free">
                        <a class="reservation-link" [routerLink]="['/reservation']">RÃ©server</a>
                    </div>
                    <div *ngIf="!planning[j][i].is_free">Indisponible</div>
                </div>
            </div>
        </td>
    </tr>
</table>

<table *ngIf="mode == modeMonth">
    <tr>
        <th *ngFor="let i of DAY_OF_WEEK">{{i}}</th>
    </tr>
</table>
<br />

<fieldset>
    <legend>Debug</legend>
    Test : {{ DAY_OF_WEEK | json}}
    Date : {{currentDate}}<br/>
    Room :
    <pre>{{room | json}}</pre>    
    Planning :
    <pre>{{planning | json}}</pre>
</fieldset>
